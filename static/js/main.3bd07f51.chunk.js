(this["webpackJsonpyoutube-search"]=this["webpackJsonpyoutube-search"]||[]).push([[0],{41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(15),c=t.n(o),l=t(8),i=t(11),u=t(21),s=t(22);const d={repos:{},current:"",loading:!1,end:!1};const p=Object(i.createStore)((function(n=d,e){var t;switch(e.type){case"UPDATE":return Object(l.a)(Object(l.a)({},n),{},{repos:Object(l.a)(Object(l.a)({},n.repos),{},{[e.payload.current]:{items:[...(null===(t=n.repos[e.payload.current])||void 0===t?void 0:t.items)||[],...e.payload.repos[e.payload.current].items||[]]}}),current:e.payload.current,end:e.payload.end});case"GET":return Object(l.a)(Object(l.a)({},n),{},{current:e.payload.current});case"LOADING":return Object(l.a)(Object(l.a)({},n),{},{loading:e.payload.loading});default:return n}}),Object(s.composeWithDevTools)(Object(i.applyMiddleware)(u.a)));var f=t(10),b=t(14),m=t(2),g=t(3);function h(){const n=Object(m.a)(['\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    &:nth-child(1) {\n        transform: rotate(0deg) translate(200%, 0);\n    }\n    &:nth-child(2) {\n        transform: rotate(72deg) translate(200%, 0);\n    }\n    &:nth-child(3) {\n        transform: rotate(144deg) translate(200%, 0);\n    }\n    &:nth-child(4) {\n        transform: rotate(216deg) translate(200%, 0);\n    }\n    &:nth-child(5) {\n        transform: rotate(288deg) translate(200%, 0);\n    }\n\n    &::after {\n        content: "";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background: rgb(0, 106, 166);;\n        border-radius: 50%;\n        animation: scale 0.5s ease infinite alternate;\n    }\n\n    @keyframes scale {\n        from {\n        transform: scale(0.5);\n        }\n\n        to {\n        transform: scale(1);\n        }\n    }\n']);return h=function(){return n},n}function x(){const n=Object(m.a)(["\n    position: relative;\n    width: 10px;\n    height: 10px;\n    animation: rotate 1s ease-in-out infinite;\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0);\n        }\n\n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]);return x=function(){return n},n}function v(){const n=Object(m.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 3;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return v=function(){return n},n}const O=g.a.div(v()),j=g.a.span(x()),E=g.a.span(h());function y(){return r.a.createElement(O,null,r.a.createElement(j,null,r.a.createElement(E,null),r.a.createElement(E,null),r.a.createElement(E,null),r.a.createElement(E,null),r.a.createElement(E,null)))}var w=t(55);const k=(n,e,t="",a=1)=>r=>{if(n)return r({type:"LOADING",payload:{loading:!0}}),fetch("https://api.github.com/search/repositories?q=".concat(n,"&page=").concat(a,"&per_page=").concat(e)).then((n=>n.json())).then((e=>{var a;r({type:"LOADING",payload:{loading:!1}}),n&&(t&&t.current.value!==n||r({type:"UPDATE",payload:{repos:{[n]:{items:e.items}},current:n,end:!(null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.length)}}))}))};function I(){const n=Object(m.a)(["\n    height: 50px;\n"]);return I=function(){return n},n}function T(){const n=Object(m.a)(["\n    border: none;\n    background: transparent;\n    color: #555;\n\n    &.active {\n        background: #ff0110;\n        color: #fff;\n        border-radius: 50%;\n    }\n"]);return T=function(){return n},n}function D(){const n=Object(m.a)(["\n    margin: 0 auto;\n    padding: 0 10px;\n    display: flex;\n    list-style-type: none;\n    flex-wrap: wrap;\n\n    li {\n        width: calc(100% / 2 - 20px);\n        padding: 10px 5px;\n        border-bottom: 1px solid rgb(233, 233, 233);\n\n        a {\n            display: flex;\n            color: #555;\n            text-decoration: none;\n        }\n\n        p {\n            overflow: hidden;\n            width: calc(100% - 165px);\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            padding-left: 15px;\n            margin-top: 30px;\n            text-align: left;\n        }\n\n        @media (max-width: 530px) {\n            flex-basis: 100%;\n        }\n\n\n        img {\n            width: 120px;\n            object-fit: cover;\n            border-radius: 6px;\n        }\n    }\n"]);return D=function(){return n},n}function A(){const n=Object(m.a)(["\n    padding: 60px 0 20px;\n    margin: 0 auto;\n    max-width: 720px;\n    text-align: center;\n    color: #555;\n    background: #fff;\n    min-height: 100%;\n"]);return A=function(){return n},n}const G=g.a.main(A()),_=g.a.ul(D()),S=(g.a.button(T()),g.a.div(I()));var z=()=>{var n;const e=Object(f.b)(),t=Object(a.useRef)(null),o=Object(a.useState)(!1),c=Object(b.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(0),s=Object(b.a)(u,2),d=s[0],p=s[1],m=Object(f.c)((n=>({repos:n.repos,current:n.current,loading:n.loading,end:n.end}))),g=m.repos,h=m.current,x=m.loading,v=m.end;let O=null===(n=g[h])||void 0===n?void 0:n.items;return Object(a.useEffect)((()=>{new IntersectionObserver((n=>{n[0].isIntersecting&&i(!0)}),{rootMargin:"0px 0px 200px 0px",threshold:1}).observe(t.current)}),[]),Object(a.useEffect)((()=>{l&&p(d+1),i(!1)}),[l]),Object(a.useEffect)((()=>{v||e(k(h,10,"",d))}),[d,v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null,!(null===O||void 0===O?void 0:O.length)&&r.a.createElement("p",null,"\u8acb\u8f38\u5165\u641c\u5c0b repo \u540d\u7a31"),r.a.createElement(_,null,null===O||void 0===O?void 0:O.map(((n,e)=>{var t;return r.a.createElement("li",{key:e},r.a.createElement("a",{href:null===n||void 0===n?void 0:n.html_url,target:"_blank"},r.a.createElement("img",{src:null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.avatar_url}),r.a.createElement("p",null,null===n||void 0===n?void 0:n.full_name)))})),x&&r.a.createElement(r.a.Fragment,null,[0,1].map(((n,e)=>r.a.createElement("li",{key:e,style:{display:"flex"}},r.a.createElement(w.a,{variant:"rect",width:120,height:120}),r.a.createElement("p",null,r.a.createElement(w.a,{variant:"text",width:100,height:20}))))))),r.a.createElement(S,{ref:t})),x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(y,null)))},F=t.p+"static/media/github-1.3d7e9179.svg";function L(){const n=Object(m.a)(["\n    padding: 0 15px;\n    background: transparent;\n    border: 0;\n    color: #fff;\n    border: 1px solid rgb(0, 88, 138);\n    border-radius: 0px 4px 4px 0px;\n    height: 35px;\n"]);return L=function(){return n},n}function N(){const n=Object(m.a)(["\n    background: transparent;\n    border: 0;\n    color: #fff;\n    border-bottom: 1px solid rgba(255, 255, 255, .5);\n    height: 35px;\n    width: 40%;\n    background: rgb(0, 88, 138);\n"]);return N=function(){return n},n}function C(){const n=Object(m.a)(["\n    background-color: rgb(0, 106, 166);\n    background-image: url(",");\n    background-size: 30px;\n    background-repeat: no-repeat;\n    background-position: 15px center;\n    padding: 5px 0;\n    text-align: center;\n    height: 48px;\n    position: fixed;\n    width: 100%;\n    top: 0;\n    z-index: 1;\n"]);return C=function(){return n},n}let J=null;const M=g.a.nav(C(),F),P=g.a.input.attrs({type:"search"})(N()),R=g.a.button(L());var U=()=>{const n=Object(f.b)(),e=Object(f.c)((n=>({repos:n.repos}))).repos,t=Object(a.useState)(""),o=Object(b.a)(t,2),c=o[0],l=o[1],i=Object(a.useRef)(null),u=n=>t=>{J&&clearTimeout(J),n in e?t({type:"GET",payload:{current:n}}):J=setTimeout((()=>{t(k(n,30,i))}),1e3)};return r.a.createElement(M,null,r.a.createElement(P,{ref:i,value:c,onChange:n=>l(n.target.value),onInput:e=>n(u(e.target.value))}),r.a.createElement(R,{onClick:()=>n(u(c))},"search"))};t(41);function q(){return r.a.createElement(f.a,{store:p},r.a.createElement(U,null),r.a.createElement(z,null))}const B=document.getElementById("root");c.a.render(r.a.createElement(q,null),B)}},[[42,1,2]]]);
//# sourceMappingURL=main.3bd07f51.chunk.js.map